<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quiz Kreativitas Siswa</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; }
    body { min-height: 100vh; background: linear-gradient(to bottom, #ffe4f1, #ffffff); display: flex; align-items: center; justify-content: center; padding: 16px; }
    .app { width: 100%; max-width: 900px; }
    .app-header { text-align: center; margin-bottom: 16px; }
    .app-title { font-size: 28px; font-weight: 800; margin-bottom: 4px; }
    .app-subtitle { font-size: 13px; color: #555; }
    .card { background: rgba(255,255,255,0.9); backdrop-filter: blur(8px); border-radius: 18px; padding: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); width: 100%; }
    .hidden { display: none !important; }
    label { font-size: 12px; font-weight: 600; margin-bottom: 4px; display: block; }
    select { width: 100%; padding: 10px 12px; border-radius: 10px; border: 1px solid #ddd; font-size: 14px; outline: none; }
    select:focus { border-color: #f472b6; box-shadow: 0 0 0 2px rgba(244,114,182,0.25); }
    .grid-2 { display: grid; grid-template-columns: 1fr; gap: 12px; }
    @media (min-width: 640px) { .grid-2 { grid-template-columns: repeat(2, minmax(0,1fr)); } }
    .btn { border: none; border-radius: 999px; padding: 10px 16px; font-size: 14px; cursor: pointer; transition: transform 0.1s, box-shadow 0.1s, background 0.2s; display: inline-flex; align-items: center; justify-content: center; gap: 6px; white-space: nowrap; }
    .btn-main { background: linear-gradient(to right,#f472b6,#ffffff); box-shadow: 0 3px 10px rgba(244,114,182,0.4); }
    .btn-main:hover { transform: translateY(-1px); box-shadow: 0 5px 16px rgba(244,114,182,0.45); }
    .btn-outline { background: #ffffff; border: 1px solid #ddd; }
    .btn-outline:hover { background: #fdf2ff; }
    .btn-small { padding: 6px 10px; font-size: 12px; }
    .btn-danger { border: 1px solid #fda4af; background: #fff1f2; }
    .btn-danger:hover { background: #ffe4e6; }
    .home-actions { margin-top: 18px; display:flex; flex-wrap:wrap; gap:10px; }
    .home-tip { margin-top: 12px; font-size: 11px; color: #777; }
    .quiz-header { display:flex; align-items:flex-start; justify-content:space-between; gap:10px; margin-bottom:12px; font-size:13px; }
    .quiz-header-left { color:#555; }
    .quiz-header-right { text-align:right; }
    .quiz-score { font-size:18px; font-weight:700; }
    .quiz-question-text { font-size:18px; font-weight:600; margin-bottom:14px; }
    .options { display:grid; gap:10px; margin-bottom:12px; }
    .option-btn { width:100%; text-align:left; border-radius:12px; border:1px solid #ddd; background:#ffffff; padding:10px 12px; cursor:pointer; font-size:14px; transition:background 0.15s,border-color 0.15s,box-shadow 0.15s,transform 0.05s; }
    .option-btn:hover { box-shadow:0 2px 8px rgba(15,23,42,0.12); transform:translateY(-1px); }
    .option-btn.disabled { cursor:default; opacity:0.8; box-shadow:none; transform:none; }
    .option-correct { border-color:#22c55e; background:#f0fdf4; }
    .option-wrong { border-color:#f97373; background:#fef2f2; }
    .explanation-box { margin-top:12px; padding:10px 12px; border-radius:10px; background:#f9fafb; border:1px solid #e5e7eb; font-size:13px; }
    .explanation-title { font-weight:700; margin-bottom:4px; }
    .explanation-text { color:#374151; font-size:13px; }
    .explanation-actions { margin-top:10px; display:flex; flex-wrap:wrap; gap:8px; align-items:center; }
    .progress-hint { margin-top:8px; font-size:11px; color:#777; }
    .result-title { font-size:22px; font-weight:700; margin-bottom:4px; }
    .result-score-text { font-size:15px; color:#4b5563; }
    .result-actions { margin-top:18px; display:flex; flex-wrap:wrap; justify-content:center; gap:10px; }
    .footer-note { margin-top:14px; text-align:center; font-size:11px; color:#777; }
  </style>
</head>
<body>
  <div class="app">
    <header class="app-header">
      <div class="app-title">Quiz Kreativitas</div>
      <div class="app-subtitle">Interaktif ‚Ä¢ Multi-level ‚Ä¢ Multi-kategori</div>
    </header>

    <!-- HOME -->
    <section id="home-screen" class="card">
      <h1 style="font-size:20px; font-weight:700; margin-bottom:6px;">Quiz Kreativitas Siswa ‚ú®</h1>
      <p style="font-size:13px; color:#555; margin-bottom:16px;">Pilih mata pelajaran dan level, lalu mulai kuis.</p>

      <div class="grid-2">
        <div>
          <label for="category-select">Mata Pelajaran</label>
          <select id="category-select"></select>
        </div>
        <div>
          <label for="level-select">Level</label>
          <select id="level-select"></select>
        </div>
      </div>

      <div class="home-actions">
        <button class="btn btn-main" id="btn-start">Mulai Quiz</button>
        <button class="btn btn-outline" id="btn-random">Acak & Mulai</button>
      </div>

      <p class="home-tip">
        Tip: Jika siswa menjawab salah dan memilih <b>‚ÄúUlangi level ini‚Äù</b>, soal akan diacak ulang dan dimulai
        dari soal pertama yang berbeda, supaya tidak terasa monoton.
      </p>
    </section>

    <!-- QUIZ -->
    <section id="quiz-screen" class="card hidden">
      <div class="quiz-header">
        <div class="quiz-header-left">
          <div id="quiz-meta"></div>
          <div id="quiz-progress" style="font-size:11px; color:#6b7280;"></div>
        </div>
        <div class="quiz-header-right">
          <div class="quiz-score">Skor: <span id="quiz-score">0</span></div>
          <div style="font-size:11px; color:#6b7280;">
            <span id="quiz-total"></span> soal
          </div>
        </div>
      </div>

      <div class="quiz-question-text" id="question-text"></div>
      <div class="options" id="options-container"></div>

      <div id="explanation-box" class="explanation-box hidden">
        <div class="explanation-title" id="explanation-title"></div>
        <div class="explanation-text" id="explanation-text"></div>
        <div class="explanation-actions">
          <button class="btn btn-main btn-small" id="btn-next-question">Soal berikutnya</button>
          <button class="btn btn-danger btn-small hidden" id="btn-retry-level">Ulangi level ini (acak soal)</button>
          <button class="btn btn-outline btn-small" id="btn-back-home">Kembali ke menu</button>
        </div>
      </div>

      <p class="progress-hint" id="quiz-hint">Pilih jawaban yang menurutmu paling tepat.</p>
    </section>

    <!-- RESULT -->
    <section id="result-screen" class="card hidden" style="text-align:center;">
      <div class="result-title">Hasil Quiz</div>
      <p class="result-score-text">Skor kamu: <span id="result-score"></span></p>

      <div class="result-actions">
        <button class="btn btn-main" id="btn-result-retry">Ulangi level ini (acak soal)</button>
        <button class="btn btn-outline" id="btn-result-home">Pilih level lain</button>
      </div>

      <p class="footer-note">Cobalah beberapa kali ‚Äî setiap pengulangan soal diacak sehingga siswa terdorong berpikir lebih kreatif.</p>
    </section>

    <p class="footer-note">Dibuat sederhana dan indah. Jika ingin fitur tambahan (login siswa, ekspor nilai, impor soal dari Excel), kamu bisa kembangkan dari struktur ini.</p>
  </div>

  <script>
    // ======================= QUESTION BANK (Matematika Pemula: 20 soal) =======================
    const QUESTION_BANK = {
      "Matematika": {
        "Pemula": [
          {
            id: "m-p-1",
            text: "2 + 3 = ?",
            options: [
              { id: "a", text: "5" },
              { id: "b", text: "6" },
              { id: "c", text: "3" },
              { id: "d", text: "4" }
            ],
            answerId: "a",
            explanation: "Hasil dari 2 + 3 adalah 5."
          },
          {
            id: "m-p-2",
            text: "5 + 7 = ?",
            options: [
              { id: "a", text: "11" },
              { id: "b", text: "13" },
              { id: "c", text: "12" },
              { id: "d", text: "10" }
            ],
            answerId: "c",
            explanation: "Hasil dari 5 + 7 adalah 12."
          },
          {
            id: "m-p-3",
            text: "9 - 4 = ?",
            options: [
              { id: "a", text: "5" },
              { id: "b", text: "3" },
              { id: "c", text: "6" },
              { id: "d", text: "4" }
            ],
            answerId: "a",
            explanation: "Hasil dari 9 - 4 adalah 5."
          },
          {
            id: "m-p-4",
            text: "12 - 5 = ?",
            options: [
              { id: "a", text: "8" },
              { id: "b", text: "6" },
              { id: "c", text: "7" },
              { id: "d", text: "5" }
            ],
            answerId: "c",
            explanation: "Hasil dari 12 - 5 adalah 7."
          },
          {
            id: "m-p-5",
            text: "3 √ó 4 = ?",
            options: [
              { id: "a", text: "10" },
              { id: "b", text: "11" },
              { id: "c", text: "12" },
              { id: "d", text: "9" }
            ],
            answerId: "c",
            explanation: "Hasil dari 3 √ó 4 adalah 12."
          },
          {
            id: "m-p-6",
            text: "6 √ó 7 = ?",
            options: [
              { id: "a", text: "42" },
              { id: "b", text: "36" },
              { id: "c", text: "40" },
              { id: "d", text: "48" }
            ],
            answerId: "a",
            explanation: "Hasil dari 6 √ó 7 adalah 42."
          },
          {
            id: "m-p-7",
            text: "8 √∑ 2 = ?",
            options: [
              { id: "a", text: "4" },
              { id: "b", text: "2" },
              { id: "c", text: "6" },
              { id: "d", text: "8" }
            ],
            answerId: "a",
            explanation: "Hasil dari 8 √∑ 2 adalah 4."
          },
          {
            id: "m-p-8",
            text: "15 √∑ 3 = ?",
            options: [
              { id: "a", text: "3" },
              { id: "b", text: "4" },
              { id: "c", text: "5" },
              { id: "d", text: "6" }
            ],
            answerId: "c",
            explanation: "Hasil dari 15 √∑ 3 adalah 5."
          },
          {
            id: "m-p-9",
            text: "4 + 6 - 2 = ?",
            options: [
              { id: "a", text: "6" },
              { id: "b", text: "7" },
              { id: "c", text: "9" },
              { id: "d", text: "8" }
            ],
            answerId: "d",
            explanation: "4 + 6 - 2 = 8."
          },
          {
            id: "m-p-10",
            text: "(2 + 3) √ó 2 = ?",
            options: [
              { id: "a", text: "10" },
              { id: "b", text: "8" },
              { id: "c", text: "7" },
              { id: "d", text: "12" }
            ],
            answerId: "a",
            explanation: "(2 + 3) √ó 2 = 5 √ó 2 = 10."
          },
          {
            id: "m-p-11",
            text: "10 - (3 + 2) = ?",
            options: [
              { id: "a", text: "6" },
              { id: "b", text: "4" },
              { id: "c", text: "3" },
              { id: "d", text: "5" }
            ],
            answerId: "d",
            explanation: "10 - (3 + 2) = 10 - 5 = 5."
          },
          {
            id: "m-p-12",
            text: "7 + 0 = ?",
            options: [
              { id: "a", text: "5" },
              { id: "b", text: "6" },
              { id: "c", text: "8" },
              { id: "d", text: "7" }
            ],
            answerId: "d",
            explanation: "7 + 0 = 7."
          },
          {
            id: "m-p-13",
            text: "0 + 0 = ?",
            options: [
              { id: "a", text: "0" },
              { id: "b", text: "1" },
              { id: "c", text: "2" },
              { id: "d", text: "-0" }
            ],
            answerId: "a",
            explanation: "0 + 0 = 0."
          },
          {
            id: "m-p-14",
            text: "5 √ó 5 = ?",
            options: [
              { id: "a", text: "20" },
              { id: "b", text: "25" },
              { id: "c", text: "15" },
              { id: "d", text: "30" }
            ],
            answerId: "b",
            explanation: "5 √ó 5 = 25."
          },
          {
            id: "m-p-15",
            text: "18 √∑ 3 = ?",
            options: [
              { id: "a", text: "6" },
              { id: "b", text: "5" },
              { id: "c", text: "3" },
              { id: "d", text: "9" }
            ],
            answerId: "a",
            explanation: "18 √∑ 3 = 6."
          },
          {
            id: "m-p-16",
            text: "14 - 7 = ?",
            options: [
              { id: "a", text: "6" },
              { id: "b", text: "7" },
              { id: "c", text: "8" },
              { id: "d", text: "5" }
            ],
            answerId: "b",
            explanation: "14 - 7 = 7."
          },
          {
            id: "m-p-17",
            text: "11 + 9 = ?",
            options: [
              { id: "a", text: "19" },
              { id: "b", text: "21" },
              { id: "c", text: "18" },
              { id: "d", text: "20" }
            ],
            answerId: "d",
            explanation: "11 + 9 = 20."
          },
          {
            id: "m-p-18",
            text: "2 √ó 6 + 1 = ?",
            options: [
              { id: "a", text: "12" },
              { id: "b", text: "13" },
              { id: "c", text: "11" },
              { id: "d", text: "10" }
            ],
            answerId: "b",
            explanation: "2 √ó 6 + 1 = 12 + 1 = 13."
          },
          {
            id: "m-p-19",
            text: "20 - 4 √∑ 2 = ?",
            options: [
              { id: "a", text: "19" },
              { id: "b", text: "18" },
              { id: "c", text: "16" },
              { id: "d", text: "17" }
            ],
            answerId: "b",
            explanation: "Operasi bagi dulu: 4 √∑ 2 = 2 ‚Üí 20 - 2 = 18."
          },
          {
            id: "m-p-20",
            text: "3 + 4 √ó 2 = ?",
            options: [
              { id: "a", text: "14" },
              { id: "b", text: "10" },
              { id: "c", text: "11" },
              { id: "d", text: "9" }
            ],
            answerId: "c",
            explanation: "Perkalian dulu: 4 √ó 2 = 8 ‚Üí 3 + 8 = 11."
          }
        ],
        "Menengah": [
          {
            id: "m-m-1",
            text: "Jika x = 3, berapakah nilai 2x¬≤ - 1?",
            options: [
              { id: "a", text: "17" },
              { id: "b", text: "16" },
              { id: "c", text: "18" },
              { id: "d", text: "15" }
            ],
            answerId: "a",
            explanation: "2 √ó (3¬≤) - 1 = 2 √ó 9 - 1 = 18 - 1 = 17."
          }
        ],
        "Mahir": [
          {
            id: "m-h-1",
            text: "Suku ke-5 dari barisan aritmetika dengan suku pertama 3 dan beda 4 adalah...",
            options: [
              { id: "a", text: "19" },
              { id: "b", text: "20" },
              { id: "c", text: "21" },
              { id: "d", text: "22" }
            ],
            answerId: "a",
            explanation: "a‚Çô = a‚ÇÅ + (n-1)d = 3 + 4√ó(5-1) = 3 + 16 = 19."
          }
        ]
      },
      "Bahasa Indonesia": {
        "Pemula": [
          {
            id: "bi-p-1",
            text: "Sinonim kata 'besar' adalah...",
            options: [
              { id: "a", text: "kecil" },
              { id: "b", text: "luas" },
              { id: "c", text: "agung" },
              { id: "d", text: "tinggi" }
            ],
            answerId: "c",
            explanation: "Dalam konteks tertentu, 'besar' dapat bersinonim dengan 'agung'."
          }
        ],
        "Menengah": [
          {
            id: "bi-m-1",
            text: "Kalimat efektif adalah kalimat yang...",
            options: [
              { id: "a", text: "bertele-tele" },
              { id: "b", text: "jelas dan singkat" },
              { id: "c", text: "sulit dimengerti" },
              { id: "d", text: "sangat panjang" }
            ],
            answerId: "b",
            explanation: "Kalimat efektif itu jelas, singkat, dan mudah dipahami."
          }
        ]
      },
      "IPA": {
        "Pemula": [
          {
            id: "ipa-p-1",
            text: "Sumber energi yang dapat diperbarui contohnya...",
            options: [
              { id: "a", text: "batu bara" },
              { id: "b", text: "minyak bumi" },
              { id: "c", text: "angin" },
              { id: "d", text: "gas alam" }
            ],
            answerId: "c",
            explanation: "Angin termasuk energi terbarukan karena terus-menerus tersedia di alam."
          }
        ]
      }
    };

    // ======================= STATE & UI HANDLING (tidak berubah) =======================
    const homeScreen = document.getElementById("home-screen");
    const quizScreen = document.getElementById("quiz-screen");
    const resultScreen = document.getElementById("result-screen");

    const categorySelect = document.getElementById("category-select");
    const levelSelect = document.getElementById("level-select");
    const btnStart = document.getElementById("btn-start");
    const btnRandom = document.getElementById("btn-random");

    const quizMeta = document.getElementById("quiz-meta");
    const quizProgress = document.getElementById("quiz-progress");
    const quizScoreEl = document.getElementById("quiz-score");
    const quizTotalEl = document.getElementById("quiz-total");
    const quizHint = document.getElementById("quiz-hint");

    const questionTextEl = document.getElementById("question-text");
    const optionsContainer = document.getElementById("options-container");

    const explanationBox = document.getElementById("explanation-box");
    const explanationTitle = document.getElementById("explanation-title");
    const explanationText = document.getElementById("explanation-text");
    const btnNextQuestion = document.getElementById("btn-next-question");
    const btnRetryLevel = document.getElementById("btn-retry-level");
    const btnBackHome = document.getElementById("btn-back-home");

    const resultScoreEl = document.getElementById("result-score");
    const btnResultRetry = document.getElementById("btn-result-retry");
    const btnResultHome = document.getElementById("btn-result-home");

    const categories = Object.keys(QUESTION_BANK);
    let selectedCategory = categories[0];
    let selectedLevel = Object.keys(QUESTION_BANK[selectedCategory])[0];

    let currentQuestions = [];
    let currentIndex = 0;
    let score = 0;
    let lastStarts = {};
    let lastSetCat = null;
    let lastSetLevel = null;
    let lastSetQuestions = [];

    function buildKey(cat, level) { return cat + "||" + level; }
    function shuffleArray(arr) { const a = arr.slice(); for (let i = a.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); const temp = a[i]; a[i] = a[j]; a[j] = temp; } return a; }
    function rotateArray(arr, k) { const a = arr.slice(); const n = a.length; if (n === 0) return a; k = ((k % n) + n) % n; return a.slice(k).concat(a.slice(0, k)); }
    function showScreen(screen) { homeScreen.classList.add("hidden"); quizScreen.classList.add("hidden"); resultScreen.classList.add("hidden"); if (screen === "home") homeScreen.classList.remove("hidden"); if (screen === "quiz") quizScreen.classList.remove("hidden"); if (screen === "result") resultScreen.classList.remove("hidden"); }
    function updateLevelSelectForCategory(cat) { const levels = Object.keys(QUESTION_BANK[cat]); levelSelect.innerHTML = ""; levels.forEach((lvl) => { const opt = document.createElement("option"); opt.value = lvl; opt.textContent = lvl; levelSelect.appendChild(opt); }); if (!levels.includes(selectedLevel)) { selectedLevel = levels[0]; } levelSelect.value = selectedLevel; }
    function formatProgress() { return (currentIndex + 1) + " / " + currentQuestions.length; }

    function renderQuestion() {
      const q = currentQuestions[currentIndex];
      if (!q) return;
      quizMeta.textContent = selectedCategory + " ‚Ä¢ " + selectedLevel;
      quizProgress.textContent = "Soal " + formatProgress();
      quizScoreEl.textContent = score;
      quizTotalEl.textContent = currentQuestions.length;
      quizHint.textContent = "Pilih jawaban yang menurutmu paling tepat.";

      questionTextEl.textContent = q.text;
      optionsContainer.innerHTML = "";
      explanationBox.classList.add("hidden");

      q.options.forEach((opt) => {
        const btn = document.createElement("button");
        btn.className = "option-btn";
        btn.textContent = opt.text;
        btn.addEventListener("click", function () { handleAnswer(opt.id); });
        optionsContainer.appendChild(btn);
      });
    }

    function setOptionsDisabled(disabled) { const btns = optionsContainer.querySelectorAll(".option-btn"); btns.forEach((b) => { if (disabled) { b.classList.add("disabled"); } else { b.classList.remove("disabled"); } }); }

    function handleAnswer(optionId) {
      const q = currentQuestions[currentIndex];
      if (!q) return;
      const alreadyDone = explanationBox && !explanationBox.classList.contains("hidden");
      if (alreadyDone) return;
      const correct = optionId === q.answerId;
      if (correct) score++;
      const btns = optionsContainer.querySelectorAll(".option-btn");
      btns.forEach((b, index) => {
        const opt = q.options[index];
        if (opt.id === q.answerId) { b.classList.add("option-correct"); }
        if (!correct && opt.id === optionId && opt.id !== q.answerId) { b.classList.add("option-wrong"); }
      });
      setOptionsDisabled(true);
      explanationBox.classList.remove("hidden");
      explanationTitle.textContent = correct ? "Benar! üéâ" : "Salah üòî";
      explanationText.textContent = q.explanation || "";
      quizScoreEl.textContent = score;
      if (currentIndex + 1 < currentQuestions.length) { btnNextQuestion.textContent = "Soal berikutnya"; } else { btnNextQuestion.textContent = "Lihat hasil"; }
      if (!correct) { btnRetryLevel.classList.remove("hidden"); } else { btnRetryLevel.classList.add("hidden"); }
    }

    function startQuiz(cat, level) {
      const bank = (QUESTION_BANK[cat] && QUESTION_BANK[cat][level]) || [];
      if (!bank.length) { alert("Belum ada soal di level ini."); return; }
      let shuffled = shuffleArray(bank);
      const key = buildKey(cat, level);
      const prevFirstId = lastStarts[key];
      if (prevFirstId && shuffled[0].id === prevFirstId && shuffled.length > 1) {
        const k = Math.max(1, Math.floor(Math.random() * shuffled.length));
        shuffled = rotateArray(shuffled, k);
      }
      lastStarts[key] = shuffled[0].id;
      currentQuestions = shuffled;
      currentIndex = 0;
      score = 0;
      lastSetCat = cat;
      lastSetLevel = level;
      lastSetQuestions = shuffled;
      showScreen("quiz");
      renderQuestion();
    }

    function nextQuestion() {
      explanationBox.classList.add("hidden");
      setOptionsDisabled(false);
      if (currentIndex + 1 < currentQuestions.length) { currentIndex++; renderQuestion(); }
      else { resultScoreEl.textContent = score + " / " + currentQuestions.length; showScreen("result"); }
    }

    function retrySameLevel() {
      if (!lastSetCat || !lastSetLevel) { startQuiz(selectedCategory, selectedLevel); } else { startQuiz(lastSetCat, lastSetLevel); }
    }

    categorySelect.addEventListener("change", () => { selectedCategory = categorySelect.value; updateLevelSelectForCategory(selectedCategory); });
    levelSelect.addEventListener("change", () => { selectedLevel = levelSelect.value; });
    btnStart.addEventListener("click", () => { startQuiz(selectedCategory, selectedLevel); });
    btnRandom.addEventListener("click", () => {
      const randCat = categories[Math.floor(Math.random() * categories.length)];
      const levels = Object.keys(QUESTION_BANK[randCat]);
      const randLvl = levels[Math.floor(Math.random() * levels.length)];
      selectedCategory = randCat;
      selectedLevel = randLvl;
      categorySelect.value = randCat;
      updateLevelSelectForCategory(randCat);
      levelSelect.value = randLvl;
      startQuiz(randCat, randLvl);
    });
    btnNextQuestion.addEventListener("click", () => { nextQuestion(); });
    btnRetryLevel.addEventListener("click", () => { retrySameLevel(); });
    btnBackHome.addEventListener("click", () => { showScreen("home"); });
    btnResultRetry.addEventListener("click", () => { retrySameLevel(); });
    btnResultHome.addEventListener("click", () => { showScreen("home"); });

    function init() {
      categories.forEach((cat) => { const opt = document.createElement("option"); opt.value = cat; opt.textContent = cat; categorySelect.appendChild(opt); });
      categorySelect.value = selectedCategory;
      updateLevelSelectForCategory(selectedCategory);
    }

    init();
  </script>
</body>
</html>
